[IT자산원정 / IT Asset Ledger] 프로젝트 기획서 (2차 수정본)

1. 프로젝트 개요
- 사내 IT 자산(노트북/모니터/태블릿/모바일 단말 등)의 “대여 → 반납 → 반납 검수 → 정산” 전 과정을 단일 데이터 모델로 관리한다.
- 목적은 “누가 어떤 자산을 언제부터 사용했는지”, “반납 검수 결과가 무엇인지”, “연체/파손 비용 및 보증금 차감·환급 근거가 무엇인지”를 이력 기반으로 재현 가능하게 하는 것이다.

2. 배경 및 문제 정의
- 기록 분산: 메신저/엑셀/담당자 개인 기록에 분산되어 자산 현황과 이력 신뢰도가 낮다.
- 검수 기준 불일치: 반납 검수 기준이 사람마다 달라 파손 책임 및 수리비 산정에서 분쟁이 발생한다.
- 정산 근거 약함: 연체료/파손수리비/보증금 환급·차감이 검수·계약 이력과 분리되면 정산 재현(감사/Audit)이 어렵다.
- 운영 리스크: 분실/중복 지급/재고 불일치/미반납 관리가 어려워진다.

3. 목표(성공 기준)
- 자산 단위(자산태그/시리얼)로 단일 개체 추적 가능
- “대여/반납 요청/반납 검수/정산”을 분리하여 책임 경계와 근거 데이터 확보
- 정산은 “반납 검수 결과 + 정책(규칙) 적용”으로 생성되고, 과거 정산이 이후 정책 변경으로 흔들리지 않음(정산 재현성)
- 상태 전이를 이력 기반으로 관리하여 상태 역전(예: 검수 완료 후 대여중)이 발생하지 않도록 설계

4. 범위(스코프)
4.1 MVP 범위(본 프로젝트)
- 자산 등록/관리(가용/대여중/반납대기/검수중/검수완료/수리중/폐기 등)
- 대여(신청/승인·반려/출고)
- 반납 요청
- 반납 검수(정상/파손/분실/수리필요 판정, 증빙 첨부)
- 정산(연체료/파손수리비 산정, 보증금 차감·환급, 정산 확정)
- 통계/조회(재고, 사용중, 미반납, 연체/파손, 정산 현황)

4.2 확장 범위(선택, 본 MVP에서는 “문서상 옵션”)
- 조달(PO/Shipment/Receiving/RMA), 공급사(Vendor) 관리
- 외주/협력사 계약, 렌탈/임차 계약의 외부 시스템 연동

5. 사용자(역할)
- 관리자(자산관리자/운영자)
  - 자산 등록/수정/폐기
  - 대여 승인/반려, 출고 처리
  - 반납 검수 등록(판정/항목/증빙)
  - 비용 산정 및 정산 확정(보증금 차감·환급 포함)
  - 통계/리포트 조회
- 사용자(일반 사용자)
  - 자산 조회
  - 대여 신청
  - 반납 요청
  - 내 신청/이력 조회

※ 확장 범위 역할(구매담당/공급사/정산담당 등)은 MVP 유스케이스/요구사항에 포함하지 않는다.

6. 핵심 시나리오(업무 흐름)
6.1 대여 → 반납 → 반납 검수 → 정산
1) 사용자는 가용(AVAILABLE) 자산을 조회하고 대여를 신청한다.
2) 관리자는 신청을 승인/반려한다. 승인 시 대여 계약(또는 대여 건)이 생성되고 자산 상태는 대여중(RENTED)이 된다.
3) 사용자는 반납 요청을 등록한다. 자산 상태는 반납대기(RETURN_REQUESTED) 또는 반납검수대기(RETURN_PENDING)로 관리한다.
4) 관리자는 자산을 회수하고 반납 검수를 수행한다.
   - 판정: 정상 / 파손 / 분실 / 수리필요 등
   - 증빙: 사진/메모 등 첨부
5) 시스템은 정책(규칙)을 적용해 비용을 산정한다.
   - 연체료: (실반납일 - 반납예정일) 기반
   - 파손수리비: 검수 판정/항목 기반
6) 정산을 생성하고 보증금 원장(Deposit Ledger)에서 차감/환급 처리 후 정산을 확정한다.
7) 검수 및 정산이 완료되면 자산은 가용(AVAILABLE)로 복귀한다.
   - 수리 필요 판정 시 수리중(UNDER_REPAIR)으로 전환 후 수리 완료 시 가용으로 복귀
   - 폐기 판정 시 폐기(DISPOSED)로 전환

6.2 서비스 플로우(요약 문장)  ← [요구 반영(6번)]
- 자산 등록/가용 → 대여(신청·승인·출고) → 반납 요청 → 반납 검수 → 정산(연체/파손/보증금) → 가용 복귀(또는 수리/폐기)

7. 기능 목록
7.1 사용자 기능
- 자산 목록/상세 조회(필터: 카테고리, 상태, 보유부서 등)
- 대여 신청 / 신청 취소(정책 범위 내)
- 반납 요청
- 내 대여/반납/정산 이력 조회

7.2 관리자 기능
- 자산 등록/수정/폐기(자산태그/시리얼/모델/부서/상태)
- 대여 승인/반려, 출고 처리
- 반납 요청 처리(회수 확인)
- 반납 검수 등록(검수 항목/판정/증빙)
- 비용 산정(연체료/파손수리비), 정산 생성 및 확정
- 보증금 관리(원장 조회, 차감/환급 기록)
- 리포트(재고/사용중/미반납/연체/파손/정산)

7.3 인증/계정 기능(최소 반영 원칙)
- 계정(회사 소속, 역할) 저장 수준으로만 반영한다.
- 이메일 인증/락/자동 로그아웃 등 운영 정책 구현은 본 프로젝트 범위에서 제외한다(DB 컬럼 설계 참고 수준으로만 기록).

8. 데이터(엔터티) 설계 방향  ← [요구 반영(4번: 조달 묶음은 확장으로 이동)]
8.1 MVP 핵심 엔터티(예시)
- 조직/권한: company, user, role, user_role
- 자산: asset_model, asset, asset_status_history
- 대여: rental, rental_item(또는 asset_assignment), approval
- 반납: return_request
- 반납 검수: inspection, inspection_item, evidence_file
- 정산/보증금: settlement, settlement_line, deposit_ledger
- 정책(규칙): fee_policy, fee_rule(연체/파손 규칙 버전 관리용)

8.2 확장 엔터티(선택)
- vendor, purchase_order, po_item, shipment, receiving, rma

9. 용어 통일(정의)  ← [요구 반영(용어통일)]
- 반납 요청(return_request): 사용자가 “반납하겠다”는 의사를 등록하는 행위/데이터
- 반납 검수(inspection): 관리자가 회수 후 자산 상태를 판정하고 증빙을 남기는 행위/데이터
  - “접수” 용어 사용 금지(문서/테이블/다이어그램에서 제거)
- 정산(settlement): 연체료/파손수리비 등 비용 산정 결과를 확정하고 보증금 차감·환급을 기록하는 행위/데이터
- 보증금 원장(deposit_ledger): 보증금의 적립/차감/환급 등 변동을 거래 단위로 남기는 원장(ledger)

10. 설계 원칙(감점 방지 기준)
- 자산 유니크: (company_id, asset_tag) 및 (company_id, serial_no) 유니크 권장
- 기간 데이터 분리: 대여 시작일/반납예정일/실반납일 분리 저장(연체 산정 근거 고정)
- 검수-정산 연결: inspection ↔ settlement_line을 FK로 연결하여 “정산 근거”를 추적 가능하게 한다.
- 정산 재현성: settlement_line에 적용 정책 버전/기준값/산출값을 저장(정책 변경에도 과거 정산 불변)
- 상태 이력: asset_status_history로 상태 변경 주체/시각/사유를 기록한다.

11. 산출물(계획)
- 요구사항 명세(문서/표)
- 유스케이스 다이어그램(관리자/사용자)
- ERD + 테이블 명세서(컬럼/PK/FK/제약/인덱스)
- SQL(DDL 중심, 필요 시 샘플 데이터/시나리오 쿼리)

(끝)
